# BI æ•°æ®è®²è§£ï¼šå®æ—¶è§£è¯»ä¸šåŠ¡æŒ‡æ ‡ä¸è¶‹åŠ¿

åŸºäºé­”çæ˜Ÿäº‘3Dæ•°å­—äººæŠ€æœ¯çš„æ™ºèƒ½BIæ•°æ®è®²è§£ç³»ç»Ÿï¼Œèƒ½å¤Ÿå®æ—¶è§£è¯»ä¼ä¸šä¸šåŠ¡æ•°æ®æŒ‡æ ‡ä¸è¶‹åŠ¿ã€‚

## åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- ğŸ¬ **åœºæ™¯åˆ‡æ¢**ï¼šæ”¯æŒæ­£å¸¸è¿è¥ã€ä¿ƒé”€æ´»åŠ¨ã€ä¸šåŠ¡æ·¡å­£ã€å¼‚å¸¸äº‹ä»¶ã€è‡ªå®šä¹‰åœºæ™¯5ç§æ¨¡å¼
- ğŸ¤– **AIæ•°æ®ç”Ÿæˆ**ï¼šä½¿ç”¨é­”æ­AI (DeepSeek-V3.2) åŠ¨æ€ç”ŸæˆçœŸå®ä¸šåŠ¡æ•°æ®
- ğŸ“Š **7å¤§æ ¸å¿ƒæŒ‡æ ‡**ï¼šè¥ä¸šæ”¶å…¥ã€è®¢å•é‡ã€æ¯›åˆ©ç‡ã€æ´»è·ƒç”¨æˆ·ã€è½¬åŒ–ç‡ã€å®¢å•ä»·ã€å¤è´­ç‡
- ğŸŒ **åœ°åŒºæ•°æ®**ï¼šåä¸œåŒºã€åå—åŒºã€ååŒ—åŒºã€è¥¿éƒ¨åŒºçš„è¥æ”¶å’Œå¢é•¿åˆ†æ
- ğŸ“¦ **äº§å“æ•°æ®**ï¼šç”µå­äº§å“ã€å®¶å±…ç”¨å“ã€æœè£…æœé¥°ã€é£Ÿå“é¥®æ–™çš„å“ç±»åˆ†æ
- ğŸ’¬ **æ™ºèƒ½å¯¹è¯**ï¼šAIåŠ©æ‰‹æ ¹æ®å½“å‰æ•°æ®å›ç­”ä¸šåŠ¡é—®é¢˜
- ğŸ”Š **è¯­éŸ³æ’­æŠ¥**ï¼šæ•°å­—äººè‡ªåŠ¨æ’­æŠ¥æ•°æ®æ´å¯Ÿï¼Œæ”¯æŒæ‰‹åŠ¨æ’­æŠ¥å®Œæ•´æ‘˜è¦
- âš ï¸ **å¼‚å¸¸é¢„è­¦**ï¼šæ™ºèƒ½æ£€æµ‹æ•°æ®å¼‚å¸¸å¹¶ç”Ÿæˆé¢„è­¦ä¿¡æ¯
- ğŸ“‹ **ä»»åŠ¡ç®¡ç†**ï¼šåˆ›å»ºå’Œè·Ÿè¸ªæ•°æ®ç›¸å…³çš„æ”¹è¿›ä»»åŠ¡
- ğŸ”” **æŠ¥è­¦ç³»ç»Ÿ**ï¼šå®æ—¶ç›‘æ§æ•°æ®å¼‚å¸¸å¹¶è§¦å‘æŠ¥è­¦

### UIç‰¹æ€§
- ğŸ­ **æ•°å­—äººå±•ç¤º**ï¼š35%å¤§å±æ˜¾ç¤ºåŒºï¼Œå¯æ‹–åŠ¨è°ƒæ•´ä½ç½®ï¼Œåœ†å½¢æ¸å˜èƒŒæ™¯
- ğŸ“º **å¤§å±é€‚é…**ï¼š1920x1080è®¾è®¡ï¼Œè‡ªåŠ¨ç¼©æ”¾
- ğŸ¨ **æ¸å˜è¿›åº¦æ¡**ï¼š40ç§’AIç”Ÿæˆè¿›åº¦å¯è§†åŒ–
- ğŸ”„ **è§†å›¾åˆ‡æ¢**ï¼šæ€»è§ˆã€åœ°åŒºã€äº§å“ã€å¯¹è¯ã€ä»»åŠ¡ã€æŠ¥è­¦6ç§è§†å›¾æ¨¡å¼

## æŠ€æœ¯æ ˆ

### å‰ç«¯
- **æ¡†æ¶**ï¼šReact 18 + TypeScript
- **æ„å»º**ï¼šVite 5.x
- **çŠ¶æ€ç®¡ç†**ï¼šZustand
- **æ ·å¼**ï¼šTailwindCSS
- **å›¾è¡¨**ï¼šECharts 5.x
- **HTTP**ï¼šAxios

### åç«¯
- **è¿è¡Œæ—¶**ï¼šNode.js 18.x
- **æ¡†æ¶**ï¼šExpress + TypeScript
- **AIæ¨¡å‹**ï¼šé­”æ­ç¤¾åŒº DeepSeek-V3.2

### æ•°å­—äºº
- **SDK**ï¼šé­”çæ˜Ÿäº‘å…·èº«é©±åŠ¨SDK v0.1.0-alpha.45
- **åŠŸèƒ½**ï¼šè¯­éŸ³åˆæˆã€åŠ¨ä½œæ§åˆ¶ã€çŠ¶æ€ç›‘æ§

## å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® http://localhost:5173

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
npm start
```

## å¯†é’¥é…ç½®

é¦–æ¬¡è®¿é—®æ—¶éœ€è¦é…ç½®å¯†é’¥ï¼ˆå­˜å‚¨åœ¨æµè§ˆå™¨ localStorageï¼‰ï¼š

| å¯†é’¥ | è·å–æ–¹å¼ | æ˜¯å¦å¿…å¡« | ç”¨é€” |
|------|----------|----------|------|
| é­”æ­ç¤¾åŒº API å¯†é’¥ | [é­”æ­ç¤¾åŒº](https://modelscope.cn) åˆ›å»ºæ–°ä»¤ç‰Œ | å¿…å¡« | AIæ•°æ®ç”Ÿæˆå’Œå¯¹è¯ |
| é­”çæ˜Ÿäº‘ App ID | [æ˜Ÿäº‘æ§åˆ¶å°](https://xingyun3d.com) åˆ›å»ºåº”ç”¨ | å¯é€‰ | æ•°å­—äººè¿æ¥ |
| é­”çæ˜Ÿäº‘ App Secret | æ˜Ÿäº‘æ§åˆ¶å°è·å– | å¯é€‰ | æ•°å­—äººè®¤è¯ |

> **æ³¨æ„**ï¼šåªéœ€é­”æ­APIå¯†é’¥å³å¯ä½¿ç”¨AIæ•°æ®ç”ŸæˆåŠŸèƒ½ã€‚æ•°å­—äººåŠŸèƒ½éœ€è¦é…ç½®é­”çæ˜Ÿäº‘å¯†é’¥ã€‚

## é¡¹ç›®ç»“æ„

```
bi-data-explainer/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ client/                      # å‰ç«¯ä»£ç 
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ Avatar/             # æ•°å­—äººç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AvatarController.ts      # SDKæ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AvatarContainer.tsx      # æ•°å­—äººå®¹å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ Chat/               # å¯¹è¯ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ChatBox.tsx              # AIå¯¹è¯æ¡†
â”‚   â”‚   â”‚   â”œâ”€â”€ Config/             # é…ç½®ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ApiKeyConfig.tsx         # å¯†é’¥é…ç½®é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ Data/               # æ•°æ®ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ScenarioSwitcher.tsx     # åœºæ™¯åˆ‡æ¢å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard/          # å¤§å±ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DashboardLayout.tsx      # å¤§å±å¸ƒå±€
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MetricCard.tsx           # æŒ‡æ ‡å¡ç‰‡
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TrendChart.tsx           # è¶‹åŠ¿å›¾
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ RegionalChart.tsx        # åœ°åŒºå›¾è¡¨
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ProductChart.tsx         # äº§å“å›¾è¡¨
â”‚   â”‚   â”‚   â””â”€â”€ Chart/              # å›¾è¡¨ç»„ä»¶
â”‚   â”‚   â”‚       â””â”€â”€ index.ts                # å›¾è¡¨å¯¼å‡º
â”‚   â”‚   â”œâ”€â”€ store/                      # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ keyStore.ts              # å¯†é’¥çŠ¶æ€
â”‚   â”‚   â”‚   â””â”€â”€ avatarStore.ts           # æ•°å­—äººçŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ services/                   # æœåŠ¡å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ keyService.ts            # å¯†é’¥ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ dataService.ts           # æ•°æ®æœåŠ¡
â”‚   â”‚   â””â”€â”€ App.tsx                     # ä¸»åº”ç”¨
â”‚   â”œâ”€â”€ server/                      # åç«¯ä»£ç 
â”‚   â”‚   â”œâ”€â”€ routes/                    # APIè·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ data.routes.ts          # æ•°æ®ç”Ÿæˆæ¥å£
â”‚   â”‚   â”‚   â””â”€â”€ chat.routes.ts          # å¯¹è¯æ¥å£
â”‚   â”‚   â””â”€â”€ services/                  # ä¸šåŠ¡æœåŠ¡
â”‚   â”‚       â”œâ”€â”€ aiDataGenerator.ts     # AIæ•°æ®ç”Ÿæˆ
â”‚   â”‚       â”œâ”€â”€ enhancedDataGenerator.ts # å¢å¼ºæ•°æ®ç”Ÿæˆ
â”‚   â”‚       â””â”€â”€ chatService.ts         # å¯¹è¯æœåŠ¡
â”‚   â””â”€â”€ shared/                      # å…±äº«ä»£ç 
â”œâ”€â”€ data/                            # æ•°æ®æ–‡ä»¶
â”‚   â”œâ”€â”€ knowledge/                   # çŸ¥è¯†åº“æ•°æ®
â”‚   â””â”€â”€ mock/                        # æ¨¡æ‹Ÿä¸šåŠ¡æ•°æ®
â””â”€â”€ public/                          # é™æ€èµ„æº
```

## APIæ¥å£

### POST /api/data/generate

ç”Ÿæˆä¸šåŠ¡æ•°æ®

**è¯·æ±‚ä½“ï¼š**
```json
{
  "scenario": "normal",
  "useAI": true,
  "previousData": { "metrics": [...] }
}
```

**å“åº”ï¼š**
```json
{
  "success": true,
  "data": {
    "metrics": [
      {
        "name": "è¥ä¸šæ”¶å…¥",
        "value": 5280000,
        "previousValue": 4800000,
        "change": 480000,
        "changePercent": 10.00,
        "unit": "å…ƒ",
        "trend": "up"
      }
      // ... å…±7ä¸ªæŒ‡æ ‡
    ],
    "trend": [
      { "timestamp": 1234567890, "value": 5000000 }
      // ... å…±12ä¸ªæ•°æ®ç‚¹
    ],
    "regionalData": [
      { "name": "åä¸œåŒº", "value": 1800000, "changePercent": 12.5 }
      // ... å…±4ä¸ªåœ°åŒº
    ],
    "productData": [
      { "name": "ç”µå­äº§å“", "revenue": 2300000, "margin": 28.5, "share": 45 }
      // ... å…±4ä¸ªå“ç±»
    ],
    "insight": "æœ¬æœŸä¸šåŠ¡è¿è¡Œå¹³ç¨³...",
    "suggestion": "å»ºè®®æŒç»­å…³æ³¨æ ¸å¿ƒæŒ‡æ ‡...",
    "alerts": [
      { "level": "warning", "message": "æ¯›åˆ©ç‡ä½äº30%" }
    ]
  },
  "source": "ai"
}
```

### POST /api/chat/stream

æµå¼å¯¹è¯

**è¯·æ±‚ä½“ï¼š**
```json
{
  "message": "è¥æ”¶æ€ä¹ˆæ ·ï¼Ÿ",
  "conversationHistory": [],
  "currentData": { ... }
}
```

**å“åº”æµï¼š**
```
data: {"type":"content","data":"å½“å‰"}
data: {"type":"content","data":"è¥ä¸šæ”¶å…¥"}
data: {"type":"end"}
```

### GET /api/data/scenarios

è·å–å¯ç”¨åœºæ™¯åˆ—è¡¨

## åœºæ™¯è¯´æ˜

| åœºæ™¯ | ä»£ç  | æ•°æ®ç‰¹å¾ |
|------|------|----------|
| æ­£å¸¸è¿è¥ | `normal` | ä¸šåŠ¡å¹³ç¨³å‘å±•ï¼Œå„é¡¹æŒ‡æ ‡å°å¹…æ­£å¸¸æ³¢åŠ¨ |
| ä¿ƒé”€æ´»åŠ¨ | `promotion` | ä¿ƒé”€å¸¦åŠ¨æ•°æ®å¤§å¹…ä¸Šå‡ï¼Œæ¯›åˆ©ç‡å¯èƒ½ç•¥é™ |
| ä¸šåŠ¡æ·¡å­£ | `off_season` | å¸‚åœºéœ€æ±‚ç–²è½¯ï¼Œæ•°æ®ä¸‹é™è¶‹åŠ¿ |
| å¼‚å¸¸äº‹ä»¶ | `anomaly` | çªå‘æƒ…å†µå¯¼è‡´æ•°æ®å¼‚å¸¸æ³¢åŠ¨ |
| è‡ªå®šä¹‰åœºæ™¯ | `custom` | ç”¨æˆ·æè¿°ç‰¹å®šåœºæ™¯ï¼ŒAIç”Ÿæˆæ•°æ® |

## ç¯å¢ƒå˜é‡

### .env.server
```bash
PORT=5177
NODE_ENV=development
MODELSCOPE_MODEL=deepseek-ai/DeepSeek-V3.2
EMBEDDING_MODEL=Qwen/Qwen3-Embedding-8B
```

## æ³¨æ„äº‹é¡¹

1. **å¯†é’¥å®‰å…¨**ï¼šæ‰€æœ‰å¯†é’¥å­˜å‚¨åœ¨æµè§ˆå™¨æœ¬åœ°ï¼Œä¸ä¸Šä¼ åˆ°æœåŠ¡å™¨
2. **AIè¶…æ—¶**ï¼šæ•°æ®ç”Ÿæˆè¶…æ—¶æ—¶é—´ä¸º120ç§’ï¼ˆ2åˆ†é’Ÿï¼‰
3. **æ•°å­—äººè¿æ¥**ï¼šéœ€è¦æœ‰æ•ˆçš„ç½‘ç»œè¿æ¥åˆ°é­”çæ˜Ÿäº‘æœåŠ¡
4. **å¤§å±é€‚é…**ï¼šè®¾è®¡å°ºå¯¸ä¸º1920x1080ï¼Œè‡ªåŠ¨ç¼©æ”¾é€‚é…ä¸åŒå±å¹•
5. **æ•°æ®ç²¾åº¦**ï¼šæ‰€æœ‰ç™¾åˆ†æ¯”ä¿ç•™2ä½å°æ•°

## å¼€å‘è¯´æ˜

### æ•°æ®ç”Ÿæˆæµç¨‹
1. ç”¨æˆ·é€‰æ‹©åœºæ™¯
2. å‰ç«¯è°ƒç”¨ `/api/data/generate`
3. åç«¯ä½¿ç”¨é­”æ­AIç”Ÿæˆæ•°æ®ï¼ˆè¶…æ—¶120ç§’ï¼‰
4. AIå¤±è´¥æ—¶è‡ªåŠ¨é™çº§åˆ°å¢å¼ºç”Ÿæˆå™¨
5. è¿”å›å®Œæ•´æ•°æ®ï¼ˆ7æŒ‡æ ‡+åœ°åŒº+äº§å“+æ´å¯Ÿ+å»ºè®®+é¢„è­¦ï¼‰

### å¯¹è¯åŠŸèƒ½æµç¨‹
1. ç”¨æˆ·è¾“å…¥é—®é¢˜
2. åç«¯æ„å»ºåŒ…å«å½“å‰æ•°æ®çš„ç³»ç»Ÿæç¤ºè¯
3. ä½¿ç”¨DeepSeek-V3.2æµå¼ç”Ÿæˆå›å¤
4. æ”¯æŒé™çº§å“åº”ï¼ˆå…³é”®è¯åŒ¹é…ï¼‰

### æ•°å­—äººæ’­æŠ¥
1. æ•°æ®ç”Ÿæˆå®Œæˆåè‡ªåŠ¨æ’­æŠ¥æ´å¯Ÿ
2. æ”¯æŒæ‰‹åŠ¨ç‚¹å‡»"å¼€å§‹æ’­æŠ¥"æŒ‰é’®
3. æ’­æŠ¥å†…å®¹ï¼š4æ ¸å¿ƒæŒ‡æ ‡ + æœ€å¤š2æ¡é¢„è­¦ + æ´å¯Ÿ + å»ºè®®

## è®¸å¯è¯

MIT License

---

**é­”çæ˜Ÿäº‘é»‘å®¢æ¾ä½œå“**
